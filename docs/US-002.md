## US-002: Always-visible translation (Dev-ready)

### Story

As a non-native English speaker,
I want to always see the translation of the word I am typing,
so that I understand and memorize the meaning while practicing.

### Scope

* Translation is shown for **single-word training** (US-001 flow).
* Web-only MVP.
* Translation must be **always visible** (no hover/click/popups).
* MVP is **local-first**: translations come from a bundled local dictionary.
* Online translation is **out of scope for MVP** (optional v1.1).

### UX / UI Specification

* On the Training screen, show:

    1. **English target word** (large, centered).
    2. **Translation text** directly under the English word (smaller font).
    3. Typing area unchanged from US-001.
* Translation area must have:

    * consistent height (avoid layout “jump” between short/long translations),
    * subdued styling (secondary text), but clearly readable.
* If translation is missing:

    * show placeholder `—` (or “No translation”) **without blocking the typing flow**.
* No tooltips, no modal dialogs.

### Language selection

* User can select translation language: **UA / RU / DE**.
* For MVP, selection can be either:

    * on a minimal Settings panel, or
    * on a pre-session Setup screen.
* Selection persists locally (config) and applies immediately.

### Translation behavior (functional)

* For each target word, the app retrieves translation via `TranslationProvider`.
* Translation retrieval must be **non-blocking for typing**:

    * local provider returns synchronously (preferred),
    * any async provider must not delay input handling (future).
* When the target word changes:

    * translation must update immediately for the new word.

### Data requirements (MVP)

* Local translation dictionary format (example):

    * key: English word (lowercase)
    * value: `{ ua?: string; ru?: string; de?: string }`
* Words are matched in lowercase (`gym`), consistent with US-001.

### Error handling / fallback rules

* If translation for current language is missing:

    * fallback order for MVP: show `—` (do not auto-fallback to another language unless explicitly enabled in settings).
* If TranslationProvider fails (unexpected error):

    * show `—`,
    * optionally log error to console in dev mode,
    * do not break the session.

### Acceptance Criteria

* Translation is displayed directly under the English word, always visible.
* Translation updates when:

    * the target word changes,
    * the user switches translation language.
* Translation display does not cause noticeable UI jitter during word transitions.
* Missing translation does not block typing and shows a non-intrusive placeholder.
* The feature works with the existing US-001 flow (Enter to advance, backspace allowed, focus preserved).

### Out of scope (explicit)

* Online translation APIs (DeepL/Google/LibreTranslate).
* Backend for translation.
* “Hover to translate”, tooltip dictionaries, popups.
* Sentence translation.

### Definition of Done

* `TranslationProvider` interface exists and is used by TrainingScreen (no hardcoded translations in UI layer).
* Local translations are bundled with the build (no network fetch required for MVP).
* A minimal unit test exists for:

    * translation lookup (known word returns translation),
    * missing word returns placeholder behavior (either in provider or UI).
* No regression to US-001 smoke test.

### Technical Notes (MVP)

* `TranslationProvider` should be pluggable:

    * `LocalTranslationProvider` now,
    * `HttpTranslationProvider` later (v1.1) without changing TrainingScreen logic.
* UI should not parse translation files on each keystroke (load once at module init / memoized).