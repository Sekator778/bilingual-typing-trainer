## US-010: Offline RU translations from a real dictionary source (FreeDict) for the 10k word list

### Story

As a learner,
I want to always see a Russian translation for the English word I am typing,
so that I can understand the meaning without relying on external services.

### Background / Motivation

The current training word list is sourced from `google-10000-english`, which contains only English words. A separate bilingual dictionary is required to provide translations.

### Scope (MVP for RU)

* Implement **Russian (RU)** translations first.
* Use **offline dictionary data** from FreeDict (StarDict eng-rus).
* Translations must be available **without external APIs**.
* The solution must support future languages (UA/DE) without redesign.

### User-visible behavior

* For most words in the 10k list, the translation line shows a RU translation (not `—`).
* If a specific word has no translation, the UI shows the existing placeholder `—` without breaking typing flow.

### System Design Constraints

* Web-only runtime: no server required.
* Translations must not noticeably slow down typing.
* Translations should be loaded in a way that does not bloat JS bundle (preferred: file in `public/` fetched once and cached).

### Acceptance Criteria

* The app uses a generated translations bundle containing entries only for words present in the 10k word list.
* Translation lookup is O(1) per word (map/dictionary lookup).
* The translations bundle is loaded once per app session and cached in memory.
* If the bundle is missing/unavailable, the app continues working and shows placeholder `—`.
* Coverage report exists (e.g., “RU coverage: X/10000”) produced during generation.
* Licensing/attribution for the dictionary source is present in the repository docs.

### Out of scope (explicit)

* Online translation APIs.
* UA/DE generation (planned as follow-ups).
* Word senses disambiguation (first-meaning is acceptable for MVP).
* Full dictionary UI (search, definitions).

### Definition of Done

* `public/translations.v1.json` is generated from FreeDict + 10k list and used by the app.
* Training screen shows RU translation for a significant portion of words.
* Tests for bundle shape + provider behavior are green (`npm run test:run`).
* `npm run build` remains green.
* Attribution is added.

### Technical Notes (implementation approach)

* Input sources:

  * `src/data/raw/google-10000-english.txt`
  * `tools/dicts/eng-rus/eng-rus/eng-rus.{ifo,idx.gz,dict.dz}`
* Output:

  * `public/translations.v1.json`
* Output model (extensible):

  * `{ [enWord]: { ru?: string; ua?: string; de?: string } }`
* TranslationProvider contract remains: always return string (placeholder included).

---

## US-010a: Translation bundle generator (tools) — RU

### Story

As a developer,
I want a repeatable tool to build a RU translation bundle from FreeDict and intersect it with the 10k word list,
so that translations can be regenerated deterministically.

### Acceptance Criteria

* A script exists (e.g., `npm run build:ru`) that generates `public/translations.v1.json`.
* Script prints coverage summary (translated/total and percentage).
* Output includes only lowercase `a-z` keys and non-empty RU translations.
* Script is deterministic: same inputs → same output.

---

## US-010b: Runtime loader + provider integration

### Story

As a learner,
I want the app to load RU translations once and instantly show them per word,
so that typing performance remains unaffected.

### Acceptance Criteria

* Translations bundle is fetched once and cached (no repeated fetches).
* TranslationProvider uses bundle lookup and returns placeholder if missing.
* If bundle fetch fails, training continues without crashes.

---

## US-010c: Attribution and licensing

### Story

As a maintainer,
I want dictionary sources and licenses documented,
so that the project can be shared publicly without compliance risks.

### Acceptance Criteria

* `docs/ATTRIBUTION.md` added with FreeDict source and license reference.
* Raw dictionary artifacts are not accidentally committed (documented + `.gitignore`).